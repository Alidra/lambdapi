{
  "scopeName": "source.lp",
  "patterns": [
    {
      "include": "#comments"
    },
    {
      "include": "#tactics"
    },
    {
      "include": "#signature-commands"
    },
    {
      "include": "#warning"
    },
    {
      "include": "#misc"
    },
    {
      "include": "#keywords"
    },
    {
      "include": "#external"
    }
  ],
  "repository": {
    "commands": {
      "match": "\\b(abort|admit|apply|as|assert|assertnot|assume|begin|builtin|compute|constant|debug|end|flag|fail|focus|in|injective|let|open|print|private|proofterm|protected|refine|reflexivity|require|rewrite|rule|set|simpl|symmetry|symbol|type|TYPE|why3)\\b",
      "name": "keyword.control.lp"
    },
    "comments": {
      "patterns": [
        {
          "begin": "//",
          "end": "$",
          "name": "comment.line.double-slash.lp"
        },
        {
          "begin": "/\\*",
          "end": "\\*/",
          "name": "comment.block.lp"
        }
      ]
    },

    "tactics": {
      "match": "\\b(apply|assume|print|proofterm|refine|reflexivity|rewrite|simpl|symmetry|why3)\\b",
      "name": "keyword.control.tactics.lp"
    },

    "signature-commands": {
      "match": "(as|begin|builtin|debug|declared|end|flag|in|inductive|let|rule|symbol|unif_rule|with)\\s+([^\\s+]*)",
      "captures": {
        "1": {"name": "storage.type.lp"},
        "2": {"name": "entity.name.function.theorem.lp"}
      }
    },

    "external": {
      "match": "(open|require)\\s+(([^\\s+]*\\s+)*$)",
      "captures": {
        "1": {"name": "storage.type.lp"},
        "2": {"name": "entity.name.function.theorem.lp"}
      }
    },

    "warning": {
      "match": "\\b(abort|admit|fail)\\b",
      "name": "keyword.control.warning.lp"
    },

    "misc": {
      "match": "\\b(assert|assernot|compute|print|proofterm|set|type)\\b",
      "name:": "keyword.control.query.lp"
    },

    "keywords": {
      "match": "\\b(constant|infix|injective|left|opaque|prefix|private|protected|quantifier|right|TYPE)\\b",
      "name": "storage.modifier.lp"
    }    
  }
}
